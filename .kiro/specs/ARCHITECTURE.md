# AAE ç³»ç»Ÿæ¶æ„æ–‡æ¡£ï¼ˆArchitecture Documentï¼‰

## ç³»ç»Ÿæ¦‚è¿°ï¼ˆSystem Overviewï¼‰

AAEï¼ˆAutomated Ad Engineï¼‰æ˜¯ä¸€ä¸ªåŸºäº**ç»Ÿä¸€å¯¹è¯å¼ AI Agent** çš„è‡ªåŠ¨åŒ–å¹¿å‘Šç®¡ç†ç³»ç»Ÿã€‚ç³»ç»Ÿå¯¹å¤–æä¾›**ä¸€ä¸ªå¯¹è¯å…¥å£**ï¼Œç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€ä¸ Agent äº¤äº’ï¼ŒAgent å†…éƒ¨é›†æˆäº† **5 ç§æ ¸å¿ƒèƒ½åŠ›æ¨¡å—**ï¼Œæ ¹æ®ç”¨æˆ·æ„å›¾æ™ºèƒ½è°ƒç”¨ç›¸åº”èƒ½åŠ›ã€‚

---

## æ ¸å¿ƒæ¶æ„åŸåˆ™ï¼ˆCore Architecture Principlesï¼‰

1. **ç»Ÿä¸€å¯¹è¯å…¥å£**ï¼šç”¨æˆ·åªéœ€ä¸ä¸€ä¸ª AI Agent å¯¹è¯ï¼Œæ— éœ€åˆ‡æ¢ä¸åŒç•Œé¢
2. **èƒ½åŠ›æ¨¡å—åŒ–**ï¼šAgent å†…éƒ¨ç”± 5 ä¸ªèƒ½åŠ›æ¨¡å—ç»„æˆï¼Œå¯ç‹¬ç«‹æ‰©å±•
3. **User Portal ä½œä¸ºæ ¸å¿ƒæ•°æ®å¹³å°**ï¼šæ‰€æœ‰ä¸šåŠ¡æ•°æ®ç»Ÿä¸€å­˜å‚¨å’Œç®¡ç†
4. **MCP åè®®é€šä¿¡**ï¼šèƒ½åŠ›æ¨¡å—é€šè¿‡ MCP åè®®ä¸ User Portal é€šä¿¡
5. **æ™ºèƒ½æ„å›¾è¯†åˆ«**ï¼šAgent è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·æ„å›¾å¹¶è°ƒç”¨ç›¸åº”èƒ½åŠ›æ¨¡å—

---

## ç³»ç»Ÿæ¶æ„å›¾ï¼ˆSystem Architecture Diagramï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Portal (ç”¨æˆ·å…¥å£)                        â”‚
â”‚                    (Next.js + WebSocket)                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚Dashboard â”‚  â”‚ç´ æç®¡ç†  â”‚  â”‚æŠ¥è¡¨ç®¡ç†  â”‚  â”‚è½åœ°é¡µåº“  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚         åµŒå…¥å¼ AI Agent å¯¹è¯ç•Œé¢ (å³ä¸‹è§’)           â”‚      â”‚
â”‚  â”‚                                                      â”‚      â”‚
â”‚  â”‚  ç”¨æˆ·: "å¸®æˆ‘ç”Ÿæˆç´ æå¹¶åˆ›å»ºå¹¿å‘Š"                      â”‚      â”‚
â”‚  â”‚  AI: "å¥½çš„ï¼æ­£åœ¨ä¸ºä½ ç”Ÿæˆç´ æ..."                    â”‚      â”‚
â”‚  â”‚                                                      â”‚      â”‚
â”‚  â”‚  [WebSocket å®æ—¶é€šä¿¡]                               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ WebSocket (å¯¹è¯)
                              â”‚ HTTP (æ•°æ®ç®¡ç†)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        User Portal                                â”‚
â”‚                   (æ ¸å¿ƒæ•°æ®ç®¡ç†å¹³å°)                               â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   æ•°æ®ç®¡ç†æ¨¡å—                           â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ç´ æç®¡ç†  â”‚ â”‚æŠ¥è¡¨æ•°æ®  â”‚ â”‚è½åœ°é¡µåº“  â”‚ â”‚æŠ•æ”¾ç®¡ç†  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚Module    â”‚ â”‚Module    â”‚ â”‚Module    â”‚ â”‚Module    â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚  â”‚ç”¨æˆ·è®¤è¯  â”‚ â”‚è®¢é˜…è®¡è´¹  â”‚ â”‚è´¦æˆ·ç®¡ç†  â”‚               â”‚    â”‚
â”‚  â”‚  â”‚Module    â”‚ â”‚Module    â”‚ â”‚Module    â”‚               â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   MCP Server                             â”‚    â”‚
â”‚  â”‚              (æä¾›å·¥å…·ç»™ AI Agent)                        â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  - get_creatives / create_creative                       â”‚    â”‚
â”‚  â”‚  - get_reports / analyze_performance                     â”‚    â”‚
â”‚  â”‚  - create_landing_page / update_landing_page             â”‚    â”‚
â”‚  â”‚  - create_campaign / update_budget                       â”‚    â”‚
â”‚  â”‚  - get_market_insights / analyze_competitor              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   æ•°æ®å­˜å‚¨å±‚                             â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  - PostgreSQL 14 (ä¸šåŠ¡æ•°æ®)                             â”‚    â”‚
â”‚  â”‚  - TimescaleDB (æ—¶åºæ•°æ®)                               â”‚    â”‚
â”‚  â”‚  - Redis (ç¼“å­˜ + ä¼šè¯)                                  â”‚    â”‚
â”‚  â”‚  - AWS S3 (æ–‡ä»¶å­˜å‚¨)                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ MCP Protocol
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç»Ÿä¸€ AI Agent                                  â”‚
â”‚                  (å¯¹è¯å¼æ™ºèƒ½åŠ©æ‰‹)                                  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              å¯¹è¯ç†è§£ä¸æ„å›¾è¯†åˆ«                          â”‚    â”‚
â”‚  â”‚           (Gemini 2.5 Flash / Claude 3.5)                â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  ç”¨æˆ·è¾“å…¥ â†’ æ„å›¾è¯†åˆ« â†’ è°ƒç”¨èƒ½åŠ›æ¨¡å— â†’ è¿”å›ç»“æœ          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   5 ä¸ªèƒ½åŠ›æ¨¡å—                           â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚Creative      â”‚  â”‚Market        â”‚  â”‚Reporting     â”‚ â”‚    â”‚
â”‚  â”‚  â”‚Capability    â”‚  â”‚Intelligence  â”‚  â”‚Capability    â”‚ â”‚    â”‚
â”‚  â”‚  â”‚              â”‚  â”‚Capability    â”‚  â”‚              â”‚ â”‚    â”‚
â”‚  â”‚  â”‚- ç”Ÿæˆç´ æ    â”‚  â”‚- ç«å“åˆ†æ    â”‚  â”‚- æ•°æ®æŠ“å–    â”‚ â”‚    â”‚
â”‚  â”‚  â”‚- åˆ†æç´ æ    â”‚  â”‚- è¶‹åŠ¿æ´å¯Ÿ    â”‚  â”‚- AI åˆ†æ     â”‚ â”‚    â”‚
â”‚  â”‚  â”‚- è¯„åˆ†ç´ æ    â”‚  â”‚- ç­–ç•¥å»ºè®®    â”‚  â”‚- å¼‚å¸¸æ£€æµ‹    â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚    â”‚
â”‚  â”‚  â”‚Landing Page  â”‚  â”‚Ad Engine     â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚Capability    â”‚  â”‚Capability    â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚- ç”Ÿæˆè½åœ°é¡µ  â”‚  â”‚- åˆ›å»ºå¹¿å‘Š    â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚- å¤šè¯­è¨€æ”¯æŒ  â”‚  â”‚- ä¼˜åŒ–é¢„ç®—    â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚- A/B æµ‹è¯•    â”‚  â”‚- è§„åˆ™å¼•æ“    â”‚                    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              èƒ½åŠ›æ¨¡å—åè°ƒå™¨ (Orchestrator)               â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  - æ ¹æ®ç”¨æˆ·æ„å›¾é€‰æ‹©èƒ½åŠ›æ¨¡å—                              â”‚    â”‚
â”‚  â”‚  - åè°ƒå¤šä¸ªèƒ½åŠ›æ¨¡å—å®Œæˆå¤æ‚ä»»åŠ¡                          â”‚    â”‚
â”‚  â”‚  - ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ è°ƒç”¨å¹¿å‘Šå¹³å° API
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚Meta     â”‚         â”‚TikTok  â”‚         â”‚Google  â”‚
   â”‚Marketingâ”‚         â”‚Ads API â”‚         â”‚Ads API â”‚
   â”‚API      â”‚         â”‚        â”‚         â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¯¹è¯æµç¨‹ç¤ºä¾‹ï¼ˆConversation Flow Examplesï¼‰

### ç¤ºä¾‹ 1ï¼šè·¨èƒ½åŠ›åä½œ - ç”Ÿæˆç´ æå¹¶åˆ›å»ºå¹¿å‘Š

```
ç”¨æˆ·: å¸®æˆ‘ç”Ÿæˆç´ æå¹¶åˆ›å»ºå¹¿å‘Š

AI Agent:
  [æ„å›¾è¯†åˆ«] â†’ éœ€è¦è°ƒç”¨ Creative Capability + Ad Engine Capability
  
  [è°ƒç”¨ Creative Capability]
  â†’ æ­£åœ¨ä¸ºä½ ç”Ÿæˆå¹¿å‘Šç´ æ...
  â†’ è°ƒç”¨ MCP: create_creative()
  â†’ âœ… å·²ç”Ÿæˆ 10 å¼ ç´ æ
  
  [è°ƒç”¨ Ad Engine Capability]
  â†’ ç°åœ¨å¸®ä½ åˆ›å»ºå¹¿å‘Š...
  â†’ è°ƒç”¨ MCP: create_campaign()
  â†’ âœ… å¹¿å‘Šå·²åˆ›å»º
  
  â†’ ç”¨æˆ·: "âœ… ç´ æå’Œå¹¿å‘Šéƒ½å·²å®Œæˆï¼
           - ç´ æåº“ï¼š10 å¼ æ–°ç´ æ
           - Campaign ID: 123456789
           éœ€è¦æˆ‘å¸®ä½ åšä»€ä¹ˆï¼Ÿ"
```

### ç¤ºä¾‹ 2ï¼šå•ä¸€èƒ½åŠ› - æŸ¥çœ‹æŠ¥è¡¨

```
ç”¨æˆ·: æˆ‘çš„å¹¿å‘Šè¡¨ç°å¦‚ä½•ï¼Ÿ

AI Agent:
  [æ„å›¾è¯†åˆ«] â†’ éœ€è¦è°ƒç”¨ Reporting Capability
  
  [è°ƒç”¨ Reporting Capability]
  â†’ è°ƒç”¨ MCP: get_reports()
  â†’ è°ƒç”¨ MCP: analyze_performance()
  
  â†’ ç”¨æˆ·: "ğŸ“Š ä»Šæ—¥è¡¨ç°ï¼š
           - èŠ±è´¹ï¼š$87.50
           - ROASï¼š2.8ï¼ˆç•¥ä½äºç›®æ ‡ 3.0ï¼‰
           
           âš ï¸ å‘ç°é—®é¢˜ï¼š
           - Adset "51-65 å²" è¡¨ç°è¾ƒå·®ï¼ˆROAS 1.8ï¼‰
           
           ğŸ’¡ å»ºè®®ï¼š
           - æš‚åœä½æ•ˆ Adset
           - å¢åŠ é«˜æ•ˆ Adset é¢„ç®—
           
           éœ€è¦æˆ‘æ‰§è¡Œä¼˜åŒ–å—ï¼Ÿ"
```

### ç¤ºä¾‹ 3ï¼šæ™ºèƒ½æ„å›¾è¯†åˆ«

```
ç”¨æˆ·: è¿™ä¸ªäº§å“å–å¾—ä¸å¥½

AI Agent:
  [æ„å›¾è¯†åˆ«] â†’ ç”¨æˆ·å¯èƒ½éœ€è¦ï¼š
    1. æŸ¥çœ‹æŠ¥è¡¨ï¼ˆReporting Capabilityï¼‰
    2. åˆ†æå¸‚åœºï¼ˆMarket Intelligence Capabilityï¼‰
    3. ä¼˜åŒ–å¹¿å‘Šï¼ˆAd Engine Capabilityï¼‰
  
  â†’ ç”¨æˆ·: "æˆ‘æ¥å¸®ä½ åˆ†æä¸€ä¸‹ã€‚é¦–å…ˆçœ‹çœ‹å¹¿å‘Šæ•°æ®...
           
           [è°ƒç”¨ Reporting Capability]
           ğŸ“Š è¿‘ 7 å¤©æ•°æ®ï¼š
           - CTR: 0.8%ï¼ˆåä½ï¼‰
           - CPA: $45ï¼ˆåé«˜ï¼‰
           
           [è°ƒç”¨ Market Intelligence Capability]
           ğŸ” ç«å“åˆ†æï¼š
           - ç«å“å¹³å‡ CTR: 1.5%
           - ä½ çš„ç´ æé£æ ¼è¾ƒä¼ ç»Ÿ
           
           ğŸ’¡ å»ºè®®ï¼š
           1. ç”Ÿæˆæ–°çš„ç´ æï¼ˆæ›´ç°ä»£çš„é£æ ¼ï¼‰
           2. è°ƒæ•´ç›®æ ‡å—ä¼—
           3. ä¼˜åŒ–è½åœ°é¡µ
           
           æˆ‘å¯ä»¥å¸®ä½ æ‰§è¡Œè¿™äº›ä¼˜åŒ–ï¼Œéœ€è¦å—ï¼Ÿ"
```

---

## æ¨¡å—èŒè´£ï¼ˆModule Responsibilitiesï¼‰

### 1. User Portalï¼ˆç”¨æˆ·å…¥å£ + æ ¸å¿ƒæ•°æ®ç®¡ç†å¹³å°ï¼‰

**èŒè´£**ï¼š
- **ç”¨æˆ·å…¥å£**ï¼šæä¾› Web ç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡æ­¤è®¿é—®ç³»ç»Ÿ
- **åµŒå…¥å¼å¯¹è¯ç•Œé¢**ï¼šåœ¨ä¸»ç«™å†…åµŒ AI Agent å¯¹è¯çª—å£
- **WebSocket é€šä¿¡**ï¼šå‰ç«¯ä¸ AI Agent çš„å®æ—¶é€šä¿¡
- ç”¨æˆ·è®¤è¯ã€æˆæƒã€è®¢é˜…ç®¡ç†
- æ‰€æœ‰ä¸šåŠ¡æ•°æ®çš„å­˜å‚¨å’Œç®¡ç†
- å®ç° MCP Serverï¼Œä¸º AI Agent æä¾›æ•°æ®è®¿é—®å·¥å…·

**å‰ç«¯æ¨¡å—**ï¼š
- Dashboard ä»ªè¡¨æ¿
- ç´ æç®¡ç†ç•Œé¢
- æŠ¥è¡¨ç®¡ç†ç•Œé¢
- è½åœ°é¡µç®¡ç†ç•Œé¢
- æŠ•æ”¾ç®¡ç†ç•Œé¢
- **åµŒå…¥å¼ AI Agent å¯¹è¯çª—å£**ï¼ˆå³ä¸‹è§’ï¼Œå¯å±•å¼€/æ”¶èµ·ï¼‰

**åç«¯æ¨¡å—**ï¼š
- ç”¨æˆ·è®¤è¯æ¨¡å—
- è®¢é˜…è®¡è´¹æ¨¡å—
- ç´ æç®¡ç†æ¨¡å—ï¼šå­˜å‚¨ç´ æå…ƒæ•°æ®å’Œæ–‡ä»¶
- æŠ¥è¡¨æ•°æ®æ¨¡å—ï¼šå­˜å‚¨å¹¿å‘Šå¹³å°æ•°æ®ï¼ˆæ—¶åºæ•°æ®ï¼‰
- è½åœ°é¡µç®¡ç†æ¨¡å—ï¼šå­˜å‚¨è½åœ°é¡µé…ç½®å’Œæ–‡ä»¶
- æŠ•æ”¾ç®¡ç†æ¨¡å—ï¼šå­˜å‚¨ Campaign/Adset/Ad æ•°æ®
- **MCP Server**ï¼šæä¾›å·¥å…·ç»™ AI Agent
- **WebSocket Server**ï¼šå¤„ç†å®æ—¶å¯¹è¯

**æŠ€æœ¯æ ˆ**ï¼š
- å‰ç«¯ï¼šNext.js 14 + TypeScript + Tailwind CSS + Shadcn/ui
- å¯¹è¯ç•Œé¢ï¼š**Vercel AI SDK**ï¼ˆ`ai` åŒ…ï¼‰+ React
- åç«¯ï¼šFastAPI (Python 3.11+)
- æ•°æ®åº“ï¼šPostgreSQL 14 + TimescaleDB
- ç¼“å­˜ï¼šRedis
- å­˜å‚¨ï¼šAWS S3
- é€šä¿¡ï¼šHTTP Streamingï¼ˆå‰ç«¯ â†” AI Agentï¼‰+ MCPï¼ˆAI Agent â†” Portalï¼‰

---

### 2. ç»Ÿä¸€ AI Agentï¼ˆå¯¹è¯å¼æ™ºèƒ½åŠ©æ‰‹ï¼‰

**èŒè´£**ï¼š
- æä¾›ç»Ÿä¸€çš„å¯¹è¯å…¥å£
- ç†è§£ç”¨æˆ·æ„å›¾å¹¶è¯†åˆ«éœ€è¦è°ƒç”¨çš„èƒ½åŠ›æ¨¡å—
- åè°ƒå¤šä¸ªèƒ½åŠ›æ¨¡å—å®Œæˆå¤æ‚ä»»åŠ¡
- ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€
- é€šè¿‡ MCP ä¸ User Portal é€šä¿¡

**æ ¸å¿ƒç»„ä»¶**ï¼š

#### 2.1 å¯¹è¯ç†è§£ä¸æ„å›¾è¯†åˆ«
- ä½¿ç”¨ Gemini 2.5 Flash æˆ– Claude 3.5 Sonnet
- è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼ˆç”Ÿæˆç´ æ/æŸ¥çœ‹æŠ¥è¡¨/åˆ›å»ºå¹¿å‘Šç­‰ï¼‰
- æå–å…³é”®ä¿¡æ¯ï¼ˆé¢„ç®—/ç›®æ ‡/äº§å“é“¾æ¥ç­‰ï¼‰
- ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡

#### 2.2 èƒ½åŠ›æ¨¡å—åè°ƒå™¨ï¼ˆOrchestratorï¼‰
- æ ¹æ®æ„å›¾é€‰æ‹©èƒ½åŠ›æ¨¡å—
- åè°ƒå¤šä¸ªèƒ½åŠ›æ¨¡å—ï¼ˆå¦‚ï¼šç”Ÿæˆç´ æ â†’ åˆ›å»ºå¹¿å‘Šï¼‰
- ç®¡ç†èƒ½åŠ›æ¨¡å—çš„æ‰§è¡Œé¡ºåº
- èšåˆå¤šä¸ªèƒ½åŠ›æ¨¡å—çš„ç»“æœ

#### 2.3 äº”ä¸ªèƒ½åŠ›æ¨¡å—ï¼ˆCapability Modulesï¼‰

**Creative Capabilityï¼ˆç´ æç”Ÿæˆèƒ½åŠ›ï¼‰**
- ç”Ÿæˆå¹¿å‘Šç´ æï¼ˆå›¾ç‰‡ï¼‰
- åˆ†æç«å“ç´ æ
- è¯„ä¼°ç´ æè´¨é‡
- MCP å·¥å…·ï¼š`generate_creative`, `analyze_creative`, `score_creative`

**Market Intelligence Capabilityï¼ˆå¸‚åœºæ´å¯Ÿèƒ½åŠ›ï¼‰**
- ç«å“åˆ†æ
- è¶‹åŠ¿æ´å¯Ÿ
- ç­–ç•¥å»ºè®®
- MCP å·¥å…·ï¼š`analyze_competitor`, `get_trends`, `generate_strategy`

**Reporting Capabilityï¼ˆæŠ¥è¡¨èƒ½åŠ›ï¼‰**
- æ•°æ®æŠ“å–
- AI åˆ†æ
- å¼‚å¸¸æ£€æµ‹
- MCP å·¥å…·ï¼š`get_reports`, `analyze_performance`, `detect_anomaly`

**Landing Page Capabilityï¼ˆè½åœ°é¡µèƒ½åŠ›ï¼‰**
- ç”Ÿæˆè½åœ°é¡µ
- å¤šè¯­è¨€æ”¯æŒ
- A/B æµ‹è¯•
- MCP å·¥å…·ï¼š`create_landing_page`, `translate_page`, `ab_test`

**Ad Engine Capabilityï¼ˆæŠ•æ”¾å¼•æ“èƒ½åŠ›ï¼‰**
- åˆ›å»ºå¹¿å‘Š
- ä¼˜åŒ–é¢„ç®—
- è§„åˆ™å¼•æ“
- MCP å·¥å…·ï¼š`create_campaign`, `optimize_budget`, `apply_rules`

**æŠ€æœ¯æ ˆ**ï¼š
- å¯¹è¯ç†è§£ï¼šGemini 2.5 Flash / AWS Bedrock Claude 3.5 Sonnet
- å¯¹è¯ç®¡ç†ï¼šLangChain / LlamaIndex
- å›¾ç‰‡ç”Ÿæˆï¼šAWS Bedrock Stable Diffusion XL
- å¹¿å‘Š APIï¼šMeta/TikTok/Google Ads API
- MCPï¼šå®ç° Clientï¼ˆè°ƒç”¨ User Portal å·¥å…·ï¼‰

---

## é€šä¿¡åè®®ï¼ˆCommunication Protocolï¼‰

### MCP (Model Context Protocol)

ç»Ÿä¸€ AI Agent ä¸ User Portal ä¹‹é—´ä½¿ç”¨ MCP åè®®é€šä¿¡ï¼š

1. **User Portal ä½œä¸º MCP Server**ï¼š
   - æä¾›æ•°æ®è®¿é—®å·¥å…·ï¼ˆget_creativesã€get_reports ç­‰ï¼‰
   - æä¾›æ•°æ®å†™å…¥å·¥å…·ï¼ˆcreate_campaignã€update_creative ç­‰ï¼‰
   - æä¾›ä¸šåŠ¡é€»è¾‘å·¥å…·ï¼ˆanalyze_performanceã€optimize_budget ç­‰ï¼‰

2. **ç»Ÿä¸€ AI Agent ä½œä¸º MCP Client**ï¼š
   - è°ƒç”¨ User Portal æä¾›çš„å·¥å…·
   - è¯»å–å’Œå†™å…¥ä¸šåŠ¡æ•°æ®
   - ä¸ç›´æ¥è®¿é—®æ•°æ®åº“

### èƒ½åŠ›æ¨¡å—å†…éƒ¨é€šä¿¡

èƒ½åŠ›æ¨¡å—ä¹‹é—´çš„é€šä¿¡é€šè¿‡**åè°ƒå™¨ï¼ˆOrchestratorï¼‰**è¿›è¡Œï¼š

```
ç”¨æˆ·è¾“å…¥
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ„å›¾è¯†åˆ«       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åè°ƒå™¨         â”‚ â—„â”€â”€â”€ ç®¡ç†èƒ½åŠ›æ¨¡å—è°ƒç”¨é¡ºåº
â”‚  (Orchestrator) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â–º Creative Capability
    â”‚
    â”œâ”€â”€â–º Market Intelligence Capability
    â”‚
    â”œâ”€â”€â–º Reporting Capability
    â”‚
    â”œâ”€â”€â–º Landing Page Capability
    â”‚
    â””â”€â”€â–º Ad Engine Capability
         â”‚
         â–¼
    èšåˆç»“æœ â†’ è¿”å›ç”¨æˆ·
```

**åè°ƒå™¨å·¥ä½œæµç¨‹**ï¼š

```python
# ç¤ºä¾‹ï¼šç”¨æˆ·è¯´"å¸®æˆ‘ç”Ÿæˆç´ æå¹¶åˆ›å»ºå¹¿å‘Š"

1. æ„å›¾è¯†åˆ«ï¼š
   - ä¸»æ„å›¾ï¼šåˆ›å»ºå¹¿å‘Š
   - å­ä»»åŠ¡ï¼šç”Ÿæˆç´ æ â†’ åˆ›å»ºå¹¿å‘Š

2. åè°ƒå™¨æ‰§è¡Œï¼š
   step1 = await creative_capability.generate(product_url)
   step2 = await ad_engine_capability.create_campaign(
       creative_id=step1.creative_id,
       budget=100,
       objective="CONVERSIONS"
   )

3. è¿”å›ç»“æœï¼š
   "âœ… ç´ æå’Œå¹¿å‘Šéƒ½å·²å®Œæˆï¼"
```

---

## æ•°æ®æµç¤ºä¾‹ï¼ˆData Flow Examplesï¼‰

### ç¤ºä¾‹ 1ï¼šç”¨æˆ·åˆ›å»ºå¹¿å‘Šï¼ˆè·¨ Agent åä½œï¼‰

```
1. ç”¨æˆ· â†’ Creative Agent: "å¸®æˆ‘ç”Ÿæˆç´ æå¹¶åˆ›å»ºå¹¿å‘Š"

2. Creative Agent:
   - ç†è§£æ„å›¾ï¼šéœ€è¦ç”Ÿæˆç´ æ + åˆ›å»ºå¹¿å‘Š
   - ç”Ÿæˆç´ æ
   - é€šè¿‡ MCP è°ƒç”¨ User Portal: create_creative()
   - é€šè¿‡ A2A è°ƒç”¨ Automated Ad Engine Agent: create_campaign()

3. Automated Ad Engine Agent:
   - æ¥æ”¶ A2A è¯·æ±‚
   - é€šè¿‡ MCP è°ƒç”¨ User Portal: get_creative()
   - åˆ›å»º Campaign
   - é€šè¿‡ MCP è°ƒç”¨ User Portal: create_campaign()
   - è¿”å›ç»“æœç»™ Creative Agent

4. Creative Agent â†’ ç”¨æˆ·: "âœ… ç´ æå·²ç”Ÿæˆï¼Œå¹¿å‘Šå·²åˆ›å»ºï¼"
```

### ç¤ºä¾‹ 2ï¼šç”¨æˆ·æŸ¥çœ‹æŠ¥è¡¨å¹¶ä¼˜åŒ–

```
1. ç”¨æˆ· â†’ Reporting Agent: "æˆ‘çš„å¹¿å‘Šè¡¨ç°å¦‚ä½•ï¼Ÿ"

2. Reporting Agent:
   - é€šè¿‡ MCP è°ƒç”¨ User Portal: get_report_data()
   - åˆ†ææ•°æ®
   - ç”Ÿæˆå»ºè®®

3. Reporting Agent â†’ ç”¨æˆ·: "CPA åé«˜ï¼Œå»ºè®®æš‚åœ Adset X"

4. ç”¨æˆ· â†’ Reporting Agent: "å¥½çš„ï¼Œæ‰§è¡Œ"

5. Reporting Agent:
   - é€šè¿‡ A2A è°ƒç”¨ Automated Ad Engine Agent: pause_adset()

6. Automated Ad Engine Agent:
   - æ‰§è¡Œæš‚åœæ“ä½œ
   - é€šè¿‡ MCP è°ƒç”¨ User Portal: update_adset()
   - è°ƒç”¨ Meta API æš‚åœå¹¿å‘Š

7. Automated Ad Engine Agent â†’ Reporting Agent: "âœ… å·²æš‚åœ"

8. Reporting Agent â†’ ç”¨æˆ·: "âœ… Adset X å·²æš‚åœ"
```

---

## æŠ€æœ¯æ ˆæ€»ç»“ï¼ˆTechnology Stack Summaryï¼‰

### å‰ç«¯
- Next.js 14 + TypeScript
- Tailwind CSS + Shadcn/ui
- WebSocketï¼ˆå®æ—¶å¯¹è¯ï¼‰
- React Queryï¼ˆæ•°æ®è·å–ï¼‰

### åç«¯
- FastAPI (Python 3.11+)
- LangChain / LlamaIndexï¼ˆå¯¹è¯ç®¡ç†ï¼‰
- MCP SDKï¼ˆåè®®å®ç°ï¼‰

### æ•°æ®åº“
- PostgreSQL 14ï¼ˆä¸šåŠ¡æ•°æ®ï¼‰
- TimescaleDBï¼ˆæ—¶åºæ•°æ®ï¼‰
- Redisï¼ˆç¼“å­˜ + ä¼šè¯ï¼‰

### å­˜å‚¨
- AWS S3ï¼ˆç´ ææ–‡ä»¶ã€è½åœ°é¡µæ–‡ä»¶ï¼‰
- CloudFrontï¼ˆCDNï¼‰

### AI æ¨¡å‹
- Gemini 2.5 Flashï¼ˆå¯¹è¯ç†è§£ã€æ–‡æœ¬ç”Ÿæˆï¼‰
- AWS Bedrock Stable Diffusion XLï¼ˆå›¾ç‰‡ç”Ÿæˆï¼‰
- AWS Bedrock Claude 3.5 Sonnetï¼ˆå¤‡é€‰ï¼‰

### å¹¿å‘Šå¹³å° API
- Meta Marketing API
- TikTok Ads API
- Google Ads API

### éƒ¨ç½²
- AWS ECSï¼ˆå®¹å™¨åŒ–éƒ¨ç½²ï¼‰
- AWS RDSï¼ˆæ•°æ®åº“ï¼‰
- AWS ElastiCacheï¼ˆRedisï¼‰
- AWS æ–°åŠ å¡åŒºåŸŸ

---

## å¼€å‘ä¼˜å…ˆçº§ï¼ˆDevelopment Priorityï¼‰

### ç¬¬ 1-2 å‘¨ï¼šUser Portal æ ¸å¿ƒ
- ç”¨æˆ·è®¤è¯
- æ•°æ®æ¨¡å—ï¼ˆç´ æã€æŠ¥è¡¨ã€è½åœ°é¡µã€æŠ•æ”¾ï¼‰
- Agent API Layer
- MCP Server å®ç°

### ç¬¬ 3-4 å‘¨ï¼šCreative Agent
- å¯¹è¯å¼äº¤äº’
- ç´ æç”Ÿæˆ
- MCP Client å®ç°
- ä¸ User Portal é›†æˆ

### ç¬¬ 5 å‘¨ï¼šReporting Agent
- å¯¹è¯å¼äº¤äº’
- æ•°æ®æŠ“å–
- AI åˆ†æ
- MCP Client å®ç°

### ç¬¬ 6 å‘¨ï¼šMarket Intelligence Agent + Landing Page Agent
- å¯¹è¯å¼äº¤äº’
- æ ¸å¿ƒåŠŸèƒ½
- MCP Client å®ç°

### ç¬¬ 9-10 å‘¨ï¼šAutomated Ad Engine Agent
- å¯¹è¯å¼äº¤äº’
- å¹¿å‘Šåˆ›å»ºå’Œç®¡ç†
- Agent åè°ƒ
- A2A åè®®å®ç°

---

## å‚è€ƒèµ„æ–™ï¼ˆReferencesï¼‰

- [MCP Protocol Specification](https://modelcontextprotocol.io/)
- [Google Gemini Agent Example](https://codelabs.developers.google.com/codelabs/currency-agent?hl=zh-cn#0)
- [LangChain Documentation](https://python.langchain.com/)
- [Meta Marketing API](https://developers.facebook.com/docs/marketing-apis)
- [TikTok Ads API](https://ads.tiktok.com/marketing_api/docs)
